<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>nvie.com - <%= @item[:title] %></title>
		<link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<link rel="stylesheet" type="text/css" href="/css/syntax.css" />
		<link rel="stylesheet" type="text/css" href="/css/fontface.css" />
		<meta name="viewport" content="width=500, user-scalable=yes, maximum-scale=1.0" />
		<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="/css/iphone.css" type="text/css" /> 
		<% if $use_googles_jquery then
		%><script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script><%
	   	   else
		%><script type="text/javascript" src="/js/jquery.min.js"></script><%
		   end %>
		<script type="text/javascript" src="/js/relatize_date.js"></script>
		<script type="text/javascript">
  			<% if $disqus_develop_mode then
  			%>var disqus_developer = 1;<%

  			end %>
			var MAIN_WIDTH = 600;
			var RESTORE_WIDTH = 520;

			$(document).ready(function () {
				$('.reldate').relatizeDate();

				// Have them expand when necessary
				$('pre').hover(
					function(event) {
						$('code', this).stop(true, false).animate({'max-width': "1000px"}, 'fast');
					},
					function(event) {
						$('code', this).stop(true, false).delay(500).animate({'max-width': RESTORE_WIDTH + "px"}, 'fast');
					}
				);

				$('a').each(function (index) {
					var external = $(this).attr('href').indexOf('/') != 0;
					//alert(index + ": " + $(this).attr('href') + ' => ' + external);
					if (external) {
						$(this).attr('target', '_blank');
					}
				});

				$('#footer img').hover(
					function () { $(this).attr('src', '/img/' + $(this).attr('id').substr(1) + '1.png'); },
					function () { $(this).attr('src', '/img/' + $(this).attr('id').substr(1) + '0.png'); }
				);
			});

			// Once all image's are loaded
			$(window).load(function () {
				$('p.autoalign').each(function () {
					var sum = 0;
					$('img', this).each(function () {
						//console.log('this image\'s width is: ' + $(this).width());
						sum = sum + $(this).width();
					});
					var l = (MAIN_WIDTH - sum) / 2;
					//console.log('setting width to ' + sum + ', left to ' + l);
					$(this).css({'width': sum, 'left': l});
				});
			});
		</script>
		<meta name="generator" content="nanoc 3.2.0a2"/>
	</head>
	<body>
		<div id="header">
			<h1><a href="/"><span id="nvie">nvie</span><span id="dot">.</span><span id="ext">com</span></a></h1>
		</div>
		<div id="main">
			<% if @item[:title] %>
			<h1><%= @item[:title] %></h1>
			<% end %>
			<%= yield %>
		</div>
		<div id="sidebar">
			<h2 class="first"><span>Default</span></h2>
			<ul>
				<li class="menu"><%= link_to_unless_current('Home', '/') %></li>
				<li class="menu"><%= link_to_unless_current('About me', '/about/') %></li>
			</ul>

			<h2><span>Recent posts</span></h2>
			<ul>
				<li class="all menu"><%= link_to_unless_current('All posts', '/posts/') %></a></li>
				<% all_articles.first($recent_posts_limit).each do |p| %>
				<li><%= link_to_unless_current(p[:title], p) %></li>
				<% end %>
			</ul>

			<h2><span>Projects</span></h2>
			<ul>
				<li class="all menu"><%= link_to_unless_current('All projects', '/projects/') %></a></li>
				<li><a href="http://github.com/nvie/gitflow/">git-flow</a></li>
				<li><a href="http://github.com/nvie/vim-pep8/">vim-pep8</a></li>
				<li><a href="http://github.com/nvie/vim-pyflakes/">vim-pyflakes</a></li>
				<li><a href="http://github.com/nvie/vim-pyunit/">vim-pyunit</a></li>
			</ul>

			<h2><span>Flattr this</span></h2>
			<p>If you like the content on this website, please consider
			Flattr'ing me, by clicking the button below.</p>
			<p>
			<a href="http://flattr.com/thing/53766/nvie-com" target="_blank"><img src="http://api.flattr.com/button/button-compact-static-100x17.png" alt="Flattr this" title="Flattr this" border="0" /></a>
			</p>
		</div>
		<div id="footer">
			<div class="boxed">
			<h1>About this blog</h1>
			<p>This blog is maintained by Vincent Driessen. You may have
			noticed that the variety of subjects on this blog tends to differ,
			which is &quot;as designed&quot;.
			</p>
			<p>This blog is rendered as intended in
			<img id="_chrome" src="/img/chrome0.png" alt="Google Chrome" title="Google Chrome" />,
			<img id="_safari" src="/img/safari0.png" alt="Safari" title="Safari" />,
			<img id="_firefox" src="/img/firefox0.png" alt="Firefox" title="Firefox" />, and
			<img id="_opera" src="/img/opera0.png" alt="Opera" title="Opera" />, but not in
			<img id="_ie" src="/img/ie0.png" alt="Internet Exporer" title="...and I couldn't care less about it." />.
			</p>
			</div>
		</div>

		<%# Google analytics tracker %>
		<% if $add_google_analytics then %>
		<script type="text/javascript"> 
		var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
		document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		</script> 
		<script type="text/javascript"> 
		var pageTracker = _gat._getTracker("UA-7780973-1");
		pageTracker._initData();
		pageTracker._trackPageview();
		</script>
		<% end %>

		<%# Disqus comment counter%>
		<% if $add_disqus_comments then %>
		<script type="text/javascript">
			var disqus_shortname = '<%= $disqus_shortname %>';
			(function () {
			var s = document.createElement('script'); s.async = true;
			s.src = 'http://disqus.com/forums/<%= $disqus_shortname %>/count.js';
			(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
			}());
		</script>
		<% end %>
	</body>
</html>
