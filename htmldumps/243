<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
	<title>nvie.com  &raquo; Blog Archive   &raquo; NSManagedObjectContext extensions</title>
	
	<link rel="alternate" type="application/rss+xml" title="nvie.com RSS Feed" href="http://nvie.com/feed" />
	<link rel="pingback" href="http://nvie.com/xmlrpc.php" />
	
	<link rel="stylesheet" href="http://nvie.com/wp-content/themes/librio/style.css" type="text/css" media="screen" />
	<!--[if IE]><link rel="stylesheet" type="text/css" href="http://nvie.com/wp-content/themes/librio/ie.css" media="screen" /><![endif]-->
	
	<link rel="alternate" type="application/rss+xml" title="nvie.com &raquo; NSManagedObjectContext extensions Comments Feed" href="http://nvie.com/archives/243/feed" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://nvie.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://nvie.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='nvie.com' href='http://nvie.com' />
<link rel='start' title='NSPredicateEditor tutorial' href='http://nvie.com/archives/197' />
<link rel='prev' title='NSPredicateEditor tutorial' href='http://nvie.com/archives/197' />
<link rel='next' title='Automatically generate classes for your Core Data data model' href='http://nvie.com/archives/263' />
<meta name="generator" content="WordPress 3.0" />
<link rel='canonical' href='http://nvie.com/archives/243' />
<link rel='shortlink' href='http://nvie.com/?p=243' />

<!-- tracker added by Ultimate Google Analytics plugin v1.6.0: http://www.oratransplant.nl/uga -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-7780973-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>

<link rel="stylesheet" href="http://nvie.com/wp-content/plugins/wp-syntax/wp-syntax.css" type="text/css" media="screen" />
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
</head>

<body>

<div id="container">

	<div id="header">
		<h1><a href="http://nvie.com/">nvie.com</a><span>Anything that interests me.</span></h1>
		<div id="search">
			<form method="get" id="searchform" action="http://nvie.com/">
				<input type="text" value="Search" name="s" id="s" onfocus="if(this.value=='Search')this.value=''" onblur="if(this.value=='')this.value='Search'" />
			</form>
		</div>
	</div>

	<div id="nav">
		<ul>
			<li class="current_page_item"><a href="http://nvie.com/">Home</a></li>
			<li class="page_item page-item-8"><a href="http://nvie.com/about" title="About">About</a></li>
		</ul>
		<a href="http://nvie.com/feed" id="feed">Subscribe</a>
	</div>
	
	<div id="wrapper">

<div id="content">

	
		<div class="post" id="post-243">
			<h1 class="post-title">NSManagedObjectContext extensions</h1>

			<p>The Core Data framework rules, and its API is really really powerful. But really, why does the Core Data API require us to write so much boilerplate code? Simple things need to be simple.</p>
<p>Why is the deletion of a managed object from the NSManagedObjectContext so easy:</p>

<div class="wp_syntax"><div class="code"><pre class="objc" style="font-family:monospace;"><span style="color: #002200;">&#91;</span>context deleteObject<span style="color: #002200;">:</span>someObject<span style="color: #002200;">&#93;</span>;</pre></div></div>

<p>Compared to its creation:</p>

<div class="wp_syntax"><div class="code"><pre class="objc" style="font-family:monospace;"><span style="color: #002200;">&#91;</span><span style="color: #400080;">NSEntityDescription</span> insertNewObjectForEntityForName<span style="color: #002200;">:</span><span style="color: #bf1d1a;">@</span><span style="color: #bf1d1a;">&quot;someObjectClassName&quot;</span>
                              inManagedObjectContext<span style="color: #002200;">:</span>context<span style="color: #002200;">&#93;</span>;</pre></div></div>

<h3>Extending NSManagedObjectContext</h3>
<p>Add the following category on NSManagedObjectContext to all of your Core Data projects and your pains will be history.</p>

<div class="wp_syntax"><div class="code"><pre class="objc" style="font-family:monospace;"><span style="color: #a61390;">@implementation</span> <span style="color: #400080;">NSManagedObjectContext</span> <span style="color: #002200;">&#40;</span>NSManagedObjectContextConvenienceMethods<span style="color: #002200;">&#41;</span>
&nbsp;
<span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span><span style="color: #a61390;">id</span><span style="color: #002200;">&#41;</span>newObject<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #a61390;">Class</span><span style="color: #002200;">&#41;</span>entity <span style="color: #002200;">&#123;</span>
    <span style="color: #a61390;">return</span> <span style="color: #002200;">&#91;</span><span style="color: #400080;">NSEntityDescription</span> insertNewObjectForEntityForName<span style="color: #002200;">:</span><span style="color: #002200;">&#91;</span>entity description<span style="color: #002200;">&#93;</span>
                                         inManagedObjectContext<span style="color: #002200;">:</span>self<span style="color: #002200;">&#93;</span>;
<span style="color: #002200;">&#125;</span>
&nbsp;
<span style="color: #a61390;">@end</span></pre></div></div>

<p>Now, a call to create a new object is as easy as deleting it.</p>

<div class="wp_syntax"><div class="code"><pre class="objc" style="font-family:monospace;"><span style="color: #002200;">&#91;</span>context newObject<span style="color: #002200;">:</span><span style="color: #002200;">&#91;</span>someEntity class<span style="color: #002200;">&#93;</span><span style="color: #002200;">&#93;</span>;</pre></div></div>

<h3>Further enhancements of NSManagedObject</h3>
<p>Matt Gallagher has written an <a onclick="javascript:pageTracker._trackPageview('/outgoing/cocoawithlove.com/2008/03/core-data-one-line-fetch.html');"  href="http://cocoawithlove.com/2008/03/core-data-one-line-fetch.html">excellent article</a> about how to further enhance NSManagedObject for adding simple, one-line fetch support. Be sure to check it out.</p>

						
			<div class="post-info">
				July 22nd, 2009 in
				<a href="http://nvie.com/archives/category/core-data" title="View all posts in Core Data" rel="category tag">Core Data</a>, <a href="http://nvie.com/archives/category/mac" title="View all posts in Mac" rel="category tag">Mac</a>, <a href="http://nvie.com/archives/category/objective-c" title="View all posts in Objective-C" rel="category tag">Objective-C</a>, <a href="http://nvie.com/archives/category/iphone" title="View all posts in iPhone" rel="category tag">iPhone</a>											</div>
		</div>

		

	<h1 class="comments-title">4 Comments</h1>

	<div id="comments">

					<div class="comment" id="comment-5">
			
				<div class="comment-avatar">
					<img alt='' src='http://0.gravatar.com/avatar/c5a7f21b46df698f3db31c37ed0cf55a?s=50&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D50&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' />				</div>
				
				<div class="comment-content">
					<div class="comment-info"><span><a href='http://nvie.com' rel='external nofollow' class='url'>Vincent Driessen</a></span>July 22nd, 2009 at 09:03 </div>
					
					
					<p>Of course, this only works when you have created a Cocoa class for the entity you want to create.</p>
				</div>
			</div>
					<div class="comment" id="comment-8">
			
				<div class="comment-avatar">
					<img alt='' src='http://1.gravatar.com/avatar/d3131e959ed2e5f7715d6c1d69b83ea0?s=50&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D50&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' />				</div>
				
				<div class="comment-content">
					<div class="comment-info"><span>ElenaLisvato</span>August 6th, 2009 at 17:38 </div>
					
					
					<p>Wow! Thank you! I always wanted to write in my site something like that. Can I take part of your post to my blog?</p>
				</div>
			</div>
					<div class="comment" id="comment-10">
			
				<div class="comment-avatar">
					<img alt='' src='http://0.gravatar.com/avatar/c5a7f21b46df698f3db31c37ed0cf55a?s=50&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D50&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' />				</div>
				
				<div class="comment-content">
					<div class="comment-info"><span><a href='http://nvie.com' rel='external nofollow' class='url'>Vincent Driessen</a></span>August 7th, 2009 at 14:07 </div>
					
					
					<p>@ElenaLisvato: You may, but also include a link to this blogpost then, please.</p>
				</div>
			</div>
					<div class="comment" id="comment-14">
			
				<div class="comment-avatar">
					<img alt='' src='http://1.gravatar.com/avatar/32406c12609c72a7fd7929b9033f009e?s=50&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D50&amp;r=G' class='avatar avatar-50 photo' height='50' width='50' />				</div>
				
				<div class="comment-content">
					<div class="comment-info"><span><a onclick="javascript:pageTracker._trackPageview('/outgoing/www.extenzedeal.com');"  href='http://www.extenzedeal.com' rel='external nofollow' class='url'>Extenze</a></span>August 17th, 2009 at 18:33 </div>
					
					
					<p>Thank you for your help!</p>
				</div>
			</div>
		
	</div>





	<h1 class="comments-title">Leave a comment</h1>

			<form action="http://nvie.com/wp-comments-post.php" method="post" id="commentform">
			Your comment
			<p><textarea name="comment" id="comment"></textarea></p>
			
						
				<p><input type="text" name="author" id="author" class="text" value="" />
				<label for="author">Name (required)</label></p>

				<p><input type="text" name="email" id="email" class="text" value="" />
				<label for="email">Mail (will not be published) (required)</label></p>

				<p><input type="text" name="url" id="url" class="text" value="" />
				<label for="url">Website</label></p>
						
						
			<p><input name="submit" type="submit" id="submit" value="Submit Comment" /><input type="hidden" name="comment_post_ID" value="243" /></p>
			
			

		</form>



	
</div>

<div id="sidebar">
<div class="block"><h3 class="widgettitle">Author</h3>			<div class="textwidget"><p>Vincent Driessen is a Python and Cocoa enthusiast based in The Netherlands.</p>
<p>Follow me on Twitter (<a href="https://twitter.com/nvie/">@nvie</a>).</p>
<p><img src="http://nvie.com/wp-content/themes/librio/images/vin.png" alt="Author" style="margin: 0 0 0 0; width: 170px; padding: 0;" /></p>
</div>
		</div><div class="block"><h3 class="widgettitle">Categories</h3>		<ul>
	<li class="cat-item cat-item-17"><a href="http://nvie.com/archives/category/core-data" title="View all posts filed under Core Data">Core Data</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://nvie.com/archives/category/general" title="View all posts filed under General">General</a>
</li>
	<li class="cat-item cat-item-23"><a href="http://nvie.com/archives/category/git" title="View all posts filed under Git">Git</a>
<ul class='children'>
	<li class="cat-item cat-item-25"><a href="http://nvie.com/archives/category/git/gitflow" title="View all posts filed under gitflow">gitflow</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-4"><a href="http://nvie.com/archives/category/iphone" title="View all posts filed under iPhone">iPhone</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://nvie.com/archives/category/mac" title="View all posts filed under Mac">Mac</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://nvie.com/archives/category/mogenerator" title="View all posts filed under mogenerator">mogenerator</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://nvie.com/archives/category/objective-c" title="View all posts filed under Objective-C">Objective-C</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://nvie.com/archives/category/python" title="Python">Python</a>
</li>
	<li class="cat-item cat-item-22"><a href="http://nvie.com/archives/category/user-scripts" title="View all posts filed under User scripts">User scripts</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://nvie.com/archives/category/xcode" title="View all posts filed under Xcode">Xcode</a>
</li>
		</ul>
</div><div class="block"><h3 class="widgettitle">Archives</h3>		<ul>
			<li><a href='http://nvie.com/archives/date/2010/03' title='March 2010'>March 2010</a></li>
	<li><a href='http://nvie.com/archives/date/2010/01' title='January 2010'>January 2010</a></li>
	<li><a href='http://nvie.com/archives/date/2009/12' title='December 2009'>December 2009</a></li>
	<li><a href='http://nvie.com/archives/date/2009/10' title='October 2009'>October 2009</a></li>
	<li><a href='http://nvie.com/archives/date/2009/07' title='July 2009'>July 2009</a></li>
		</ul>
</div><div class="block"><h3 class="widgettitle">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://nvie.com' rel='external nofollow' class='url'>Vincent Driessen</a> on <a href="http://nvie.com/git-model/comment-page-2#comment-1892">A successful Git branching model</a></li><li class="recentcomments">A on <a href="http://nvie.com/archives/197/comment-page-1#comment-1890">NSPredicateEditor tutorial</a></li><li class="recentcomments"><a href='http://nvie.com' rel='external nofollow' class='url'>Vincent Driessen</a> on <a href="http://nvie.com/git-model/comment-page-2#comment-1884">A successful Git branching model</a></li><li class="recentcomments"><a onclick="javascript:pageTracker._trackPageview('/outgoing/webdev.zalewa.info');"  href='http://webdev.zalewa.info' rel='external nofollow' class='url'>zalun</a> on <a href="http://nvie.com/git-model/comment-page-2#comment-1883">A successful Git branching model</a></li><li class="recentcomments"><a onclick="javascript:pageTracker._trackPageview('/outgoing/codeslife.com');"  href='http://codeslife.com' rel='external nofollow' class='url'>Larry Cai</a> on <a href="http://nvie.com/git-model/comment-page-2#comment-1882">A successful Git branching model</a></li></ul></div></div>
	</div>
	
	<div id="footer">
		<p>
			Copyright &copy; 2008. All right reserved. 
			Theme by <a href="http://deniart.ru">deniart</a>
		</p>
	</div>
</div>

</body>
</html>